<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liste des Anim√©s</title>
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.css">
    <link rel="stylesheet" href="./assets/styles.css">
    
    <script src="https://cdn.jsdelivr.net/npm/swiper/swiper-bundle.min.js"></script>
</head>
<body>
    <header>
        <button id="darkModeToggle">üåô Mode Sombre</button>
        <h1> AnimeFavoris <!--Liste des Anim√©s--></h1>
        
        <div id="filters">
            <input type="text" id="searchBar" placeholder="Rechercher un anime...">
            
            <label for="yearSelect">Filtrer par ann√©e :</label>
            <select id="yearSelect">
                <option value="">Toutes</option>
                <option value="2026">2026</option>
                <option value="2025">2025</option>
                <option value="2024">2024</option>
                <option value="2023">2023</option>
                <option value="2022">2022</option>
                <option value="2020">2020+</option>
                <option value="2015">2015+</option>
                <option value="2000">2000+</option>
            </select>
            
            <button class="category-btn active" data-category="16">Anime</button>
            <button class="category-btn" data-category="10759">Action</button>
            <button class="category-btn" data-category="35">Com√©die</button>

            <button id="favoritesButton"><a href="./favoris.html">Voir Favoris</a></button>
        </div>
    </header>

    <!-- Carrousel des anim√©s populaires -->
    <section id="carousel">
        <div class="swiper-container">
            <div class="swiper-wrapper">
                <!-- Les slides seront ajout√©es dynamiquement ici -->
            </div>
            <div class="swiper-pagination"></div>
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
        </div>
    </section>

    <div class="container" id="animeList">
        <p style="text-align: center; margin: 50px;">Chargement des animes...</p>
    </div>

    <button id="loadMore" style="display: none;">Voir plus</button>

    <!-- Modale pour afficher les d√©tails d'un anime -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="animeTitle"></h2>
            <p id="animeDate"></p>
            <p id="animeRating"></p>
            <p id="animeGenres"></p>
            <img id="animeImage" src="" alt="Affiche de l'anime">
            
            <!-- Nouvelle bo√Æte pour la description -->
            <div class="modal-description">
                <h3>Description</h3>
                <p id="animeDescription"></p>
            </div>
        </div>
    </div>

    <!-- Scripts dans l'ordre correct -->
    <script src="./api/config.js"></script>
    <script src="./js/cookies.js"></script>
    <script src="./js/favoris.js"></script>
    <script src="./js/darkmods.js"></script>
    <script src="./js/rechercher.js"></script>
    <script src="./js/animes.js"></script>
    <script src="./js/swiper.js"></script>
    <script src="./js/events.js"></script>
    
    <!-- Script sp√©cifique √† la page index -->
    <script>
        // Configuration sp√©cifique √† la page principale
        document.addEventListener("DOMContentLoaded", () => {
            console.log("üè† Page principale - Initialisation");
            
            // Cette page affiche tous les animes (pas seulement les favoris)
            window.showFavoritesOnly = false;
            
            // Initialiser tous les modules
            setTimeout(() => {
                console.log("‚úÖ Modules charg√©s, d√©marrage de l'application");
                
                // Charger les animes par d√©faut si pas encore fait
                if (window.fetchAnimes && (!window.allAnimes || window.allAnimes.length === 0)) {
                    window.fetchAnimes();
                }
                
                // Initialiser la recherche si pas encore fait
                if (window.initSearch && !document.querySelector('.category-btn.active')) {
                    window.initSearch();
                }
            }, 200);
        });
    </script>
</body>
</html> 
